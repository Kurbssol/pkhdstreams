<!DOCTYPE HTML>
<html lang="en">

<head>
<title>DD12 Streams</title>
<meta name="description" content="A light-weight streaming website that's easy to use. Come check us out!">
<meta content="DD12Streams" property="twitter:title" />
<meta content="A pretty cool live streaming website." property="twitter:description" />
<meta content="https://dd12streams.com/fav/dd12.png" property="twitter:image" />
<meta property="og:type" content="website"/><meta content="summary_large_image" name="twitter:card"/>
<meta name="twitter:domain" content="dd12streams.com" />
<meta name="viewport" content="width=device-width, initial-scale=0.8">
<link rel="stylesheet" type="text/css" href="../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" >
<link rel="stylesheet" type="text/css" href="../stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" >
<link rel="stylesheet" type="text/css" href="styles.css">
<link href="dono-popup.css" rel="stylesheet" type="text/css">
<link rel="apple-touch-icon" sizes="180x180" href="fav/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="fav/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="fav/favicon-16x16.png">
<link rel="manifest" href="fav/site.webmanifest">

<script src="../cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script src="../cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
<script src="stream-status.js"></script>
<script src="viewer-count.js"></script>
<script src="dono-popup.js"></script>
<script>
  $(function () {
    $(window).on('scroll', function () {
        if ($(window).scrollTop() > 10) {
            $('.navbar').addClass('active');
        } else {
            $('.navbar').removeClass('active');
        }
    });
  });

  function darkMode() {
    var element = document.documentElement;
    var element2 = document.body;
    var isDarkMode = element.classList.contains("dark-mode");

    element.classList.toggle("dark-mode");
    element2.classList.toggle("dark-mode");

    localStorage.setItem("darkModeEnabled", !isDarkMode);
  }

  document.addEventListener("DOMContentLoaded", function() {
    var darkModeEnabled = localStorage.getItem("darkModeEnabled");
    if (darkModeEnabled === "true") {
      darkMode();
    }
  });

  function changeSource() {
    var iframe = document.getElementById("vplayer");
    var selectBox = document.getElementById("website-select");
    var selectedValue = selectBox.options[selectBox.selectedIndex].value;
    var selectedOption = selectBox.options[selectBox.selectedIndex];
    if (selectedOption.classList.contains('no-iframe')) {
      window.location.href = selectedValue;
    } else {
      iframe.src = selectedValue;
    }
  }

  function toggleChatIframe() {
    var iframe = document.getElementById("theChat");
    if (iframe.style.display === "none") {
      iframe.style.display = "block";
    } else {
      iframe.style.display = "none";
    }
  }

  function loadNascarRace() {
    fetch('https://api.nascar.com/race-info') // Replace with actual NASCAR API
      .then(response => response.json())
      .then(data => {
        document.getElementById('race-name').textContent = data.raceName;
        document.getElementById('race-time').textContent = new Date(data.date).toLocaleString();
      })
      .catch(err => console.log("Error fetching NASCAR race:", err));
  }

  function checkStreamStatus(streamName, statusElementId) {
    const apiUrl = `https://api.example.com/stream-status/${streamName}`; // Replace with your actual API endpoint

    fetch(apiUrl)
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok ' + response.statusText);
        }
        return response.json();
      })
      .then(data => {
        const status = data.isOnline ? "Online" : "Offline";
        document.getElementById(statusElementId).textContent = status;
      })
      .catch(err => {
        console.log("Error fetching stream status:", err);
        document.getElementById(statusElementId).textContent = "Error";
      });
  }

  function updateAllStatuses() {
    checkStreamStatus('raw', 'raw-status');
    checkStreamStatus('nxt', 'nxt-status');
    checkStreamStatus('dynamite', 'dynamite-status');
    checkStreamStatus('smackdown', 'smackdown-status');
    checkStreamStatus('collision', 'collision-status');
    checkStreamStatus('nascar', 'nascar-status');
  }

  // Call status updates initially and then refresh every 20 seconds
  updateAllStatuses();
  setInterval(updateAllStatuses, 20000);

  // Call NASCAR race update initially and refresh every 20 seconds
  loadNascarRace();
  setInterval(loadNascarRace, 20000);

  // Auto-refresh page every 5 minutes
  setInterval(() => {
    location.reload();
  }, 300000);
</script>

</head>

<body>
  <header class="header">
    <nav class="navbar navbar-expand-lg fixed-top py-3">
      <div class="container">
        <a href="index.html" class="navbar-brand text-uppercase font-weight-bold">DD12</a>
        <button type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler navbar-toggler-right"><i class="fa fa-bars"></i></button>
        <div id="navbarSupportedContent" class="collapse navbar-collapse">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active"><a href="index.html" class="nav-link text-uppercase font-weight-bold">Home <span class="sr-only">(current)</span></a></li>
            <li class="nav-item"><a href="donate.html" class="nav-link text-uppercase font-weight-bold">Donate</a></li>
            <li class="nav-item"><a href="schedule.html" class="nav-link text-uppercase font-weight-bold">Schedule</a></li>
            <li class="nav-item"><a href="about.html" class="nav-link text-uppercase font-weight-bold">About</a></li>
            <li class="nav-item"><a href="dmca.html" class="nav-link text-uppercase font-weight-bold">DMCA</a></li>
            <li class="nav-item">
              <a href="https://discord.gg/TTFE8Jfz7G" class="nav-link text-uppercase font-weight-bold">Discord</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <div class="container mt-4">
    <div class="popup" id="popup">
      <div class="popup-content">
        <span class="close-button">×</span>
        <h2>Support DD12Streams!</h2>
        <p>No, this is not an ad. Just a reminder that donations help keep the website ad free!</p>
        <button id="donatePopButton" class="btn btn-primary">Donate</button>
      </div>
    </div>

    <div class="schedule">
      <h2>WWE/AEW Weekly Shows</h2>
      <ul class="list-group">
        <li class="list-group-item">Monday Night Raw: <span id="raw-time">Every Monday 8:00 PM ET</span> - <span id="raw-status">Checking...</span></li>
        <li class="list-group-item">WWE NXT: <span id="nxt-time">Every Tuesday 8:00 PM ET</span> - <span id="nxt-status">Checking...</span></li>
        <li class="list-group-item">AEW Dynamite: <span id="dynamite-time">Every Wednesday 8:00 PM ET</span> - <span id="dynamite-status">Checking...</span></li>
        <li class="list-group-item">Friday Night SmackDown: <span id="smackdown-time">Every Friday 8:00 PM ET</span> - <span id="smackdown-status">Checking...</span></li>
        <li class="list-group-item">AEW Collision: <span id="collision-time">Every Saturday 8:00 PM ET</span> - <span id="collision-status">Checking...</span></li>
      </ul>
    </div>

    <div class="nascar-schedule mt-4">
      <h2>Upcoming NASCAR Race</h2>
      <div id="nascar-race-info">
        <p>Race Name: <span id="race-name">Loading...</span></p>
        <p>Race Time: <span id="race-time">Loading...</span></p>
        <span id="nascar-status">Checking...</span>
      </div>
    </div>

    <button id="dark-mode-toggle" class="btn btn-dark mt-4" onclick="darkMode()">Toggle Dark Mode</button>

    <div id="chat-toggle" class="mt-4">
      <button class="btn btn-primary" onclick="toggleChatIframe()">Toggle Chat</button>
    </div>
  </div>

  <iframe id="vplayer" src="https://defaultstream.com" style="width: 100%; height: 500px;"></iframe>

  <iframe id="theChat" src="https://chatstream.com" style="width: 100%; height: 300px; display: none;"></iframe>

  <footer class="footer mt-4">
    <div class="container text-center">
      <p class="text-muted">© 2024 DD12Streams. All rights reserved.</p>
    </div>
  </footer>
</body>

</html>
